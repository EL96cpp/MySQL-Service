# MySQL-Service
Приложение для работы с базой данных магазина.

# sql_service
Взаимодействие с базой данных MySQL осуществляется с помощью объекта класса sql_service.
При необходимости, в конструкторе класса sql_service происходит создание базы данных 'store' и таблиц 'catalog', 'clients' и 'orders'. Для каждого поля в таблицах существуют get-функции. Для таблицы 'catalog' сущетсвуют функции обновления чилса товаров. При совершении заказа, данные обновляются во всех трёх таблицах. 
## Таблицы
Таблица 'catalog' содержит данные о товарах, влючая id, имя, цену и число оставшихся в наличии единиц товара. В таблице 'clients' содержится id клиента, его имя, почтовый адрес, итоговую стоимость всех совершённых покупок, число заказов и скидку.
При совершении покупок на сумму более 10000, 25000, 50000, клиенту начисляется постоянная скидка в размере 5%, 15% и 25% соответственно. Таблица 'orders' содержит id заказа, почтовый адрес пользователя, совершившего покупку, дату заказа, число товаров, суммарную стоимость со скидкой и без неё.  
# Тесты 
Юнит-тесты написаны при помощи библиотеки Google Test. Проверяется корректность работы функций добавления новых товаров, клиентов и заказов, обновления числа единиц товара и начисления скидок покупателям. 
При обращении к данным несуществующего товара, пользователя или заказа, а также при попытке уменьшить число единиц товара на некорректное число, бросается исключение std::runtime_error.
